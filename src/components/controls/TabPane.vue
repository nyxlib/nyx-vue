<script setup>
/*--------------------------------------------------------------------------------------------------------------------*/

import {ref, inject, onMounted} from 'vue';

import {v4} from 'uuid';

/*--------------------------------------------------------------------------------------------------------------------*/
/* VARIABLES                                                                                                          */
/*--------------------------------------------------------------------------------------------------------------------*/

const addTab = inject('addTab');

/*--------------------------------------------------------------------------------------------------------------------*/

const props = defineProps({
    title: {
        type: String,
        required: true,
    },
    icon: {
        type: String,
        default: ''
    },
});

/*--------------------------------------------------------------------------------------------------------------------*/

const firstTab = ref(false);

/*--------------------------------------------------------------------------------------------------------------------*/

const id = `indi_tab_${v4().substring(0, 8)}`;

/*--------------------------------------------------------------------------------------------------------------------*/
/* INITIALIZATION                                                                                                     */
/*--------------------------------------------------------------------------------------------------------------------*/

onMounted(() => {

    firstTab.value = addTab(id, props.title, props.icon);
});

/*--------------------------------------------------------------------------------------------------------------------*/
</script>

<template>

    <!-- *********************************************************************************************************** -->

    <div :class="['tab-pane', 'h-100', {'show': firstTab, 'active': firstTab}]" :id="id">

        <slot></slot>

    </div>

    <!-- *********************************************************************************************************** -->

</template>
