<script setup>
/*--------------------------------------------------------------------------------------------------------------------*/

import {ref, onMounted} from 'vue';

import Chart from 'chart.js/auto';

/*--------------------------------------------------------------------------------------------------------------------*/
/* VARIABLES                                                                                                          */
/*--------------------------------------------------------------------------------------------------------------------*/

const props = defineProps({
    metricsNames: {
        type: Array,
        default: [],
    },
});

/*--------------------------------------------------------------------------------------------------------------------*/

const canvas = ref(null);

let chart = null;

/*--------------------------------------------------------------------------------------------------------------------*/
/* INITIALIZATION                                                                                                     */
/*--------------------------------------------------------------------------------------------------------------------*/

onMounted(() => {

    /*----------------------------------------------------------------------------------------------------------------*/

    const labels = [1, 2, 3, 4, 5, 6, 7];

    /*----------------------------------------------------------------------------------------------------------------*/

    const datasets = props.metricsNames.map((metricsName) => {

        return {
            label: metricsName,
            data: [65, 59, 80, 81, 56, 55, 40],
        };
    });

    /*----------------------------------------------------------------------------------------------------------------*/

    chart = new Chart(canvas.value, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: datasets,
        },
        options: {
            animation: {
                duration: 0,
            },
            responsive: true,
        },
    });

    /*----------------------------------------------------------------------------------------------------------------*/
});

/*--------------------------------------------------------------------------------------------------------------------*/
</script>

<template>

    <!-- *********************************************************************************************************** -->

    <canvas class="h-100 w-100" ref="canvas"></canvas>

    <!-- *********************************************************************************************************** -->

</template>
